{% extends 'login_base.html' %}
{% load static %}
{% load grupo_tags %}
{% block title %}Gestiona IESGN{% endblock %}

{% block content %}

<div class="row justify-content-center">
    <div class="col-md-6 col-lg-5">
        <div class="card rounded-4 shadow-sm">
            <div class="card-body p-4">

                <h2 class="fw-bold mb-3 text-center">¡Bienvenido/a a Gestion@ IESGN!</h2>
                <p class="text-center text-muted mb-4">
                    Por seguridad, es necesario cambiar la contraseña la primera vez que accedes a Gestion@ IESGN.
                </p>

                <form method="post" class="needs-validation" novalidate>
                    {% csrf_token %}

                    <div class="mb-3">
                        <label for="id_old_password">Contraseña antigua:</label>
                        {{ form.old_password|add_class:"form-control" }}
                        {% for error in form.old_password.errors %}
                            <div class="text-danger small mt-1">{{ error }}</div>
                        {% endfor %}
                    </div>

                    <div class="mb-3">
                        <label for="id_new_password1">Nueva contraseña:</label>
                        {{ form.new_password1|add_class:"form-control" }}
                        {% for error in form.new_password1.errors %}
                            <div class="text-danger small mt-1">{{ error }}</div>
                        {% endfor %}
                    </div>

                    <div class="mb-3">
                        <label for="id_new_password2">Confirma nueva contraseña:</label>
                        {{ form.new_password2|add_class:"form-control" }}
                        {% for error in form.new_password2.errors %}
                            <div class="text-danger small mt-1">{{ error }}</div>
                        {% endfor %}
                    </div>

                    <button type="submit" class="btn btn-primary w-100 py-2 fw-semibold">Cambiar Contraseña</button>
                </form>

            </div>
        </div>
    </div>
</div>

{% endblock %}
